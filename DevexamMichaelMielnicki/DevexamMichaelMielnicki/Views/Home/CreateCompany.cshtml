@model DevexamMichaelMielnicki.Models.Company
@{
    ViewBag.Title = "CreateCompany";
}

<h2>CreateCompany</h2>

@using (Html.BeginForm("CreateCompany", "Home", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Create a new account.</h4>
    <hr />


    

    <div class="form-group">
        @Html.LabelFor(m => m.Name, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Img, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.Img, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-success" value="Create New Company" />
        </div>
    </div>
}

@using (Html.BeginForm("JoinExisistingCompany", "Home", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Join an exisiting company.</h4>
    <hr />
    <div class="form-group">
        @Html.LabelFor(m => m.ReferenceCode, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.ReferenceCode, new { @class = "form-control" })
        </div>
    </div>
   <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input id="join" type="submit" class="btn btn-success" value="Join existing company" />
        </div>
       </div>
   }
@section Scripts{
    <script src="~/Scripts/jquery.signalR-2.2.1.min.js"></script>
    <script src="~/SignalR/hubs"></script>
    <script>
        var myHub = $.connection.myHub;
        $.connection.hub.start().done(function () {

            $("#join").click(function () {
                myHub.server.newEmployee();
            });

            });
    </script>

}




